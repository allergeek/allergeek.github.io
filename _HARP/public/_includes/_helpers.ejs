<%
  hello = function (name) {
    return 'Hello, ' + name;
  }
%>

<%
  mailtoStr = function (n) {
    n = "mailto:"
    n += inbox + "?subject="
    n += "help me remember this"+ "&body="
    n += encodeURIComponent("Hi Alice,\n" + "help me remember this:\n\n")
    n += fullURL()
    return n
  }
%>

<%
  helloStr = function (n) {
    n = "mailto:"
    n += inbox + "?subject="
    n += "hello Alice"+ "&body="
    n += encodeURIComponent("Hi,\n")
    return n
  }
%>

<%# get the ASCII-encoded blog url %>
<%
  encoded = function () {
    var aiice2 = encodeURIComponent("http://aiice2.com/");
    return aiice2;
  }
%>

<%
  getURL = function (url) {
    var upper = current.path.length;
    url = [];
    for (i = 0; i < upper; i++) {
      url[i] = current.path[i];
    }
    return url.join('/')
  }
%>

<%
  fullURL = function (n) {
    n = url + getURL();
    return n
  }
%>

<%#
  return full path to parent directory for comments (removes -ref suffix)
  use parentURL() for other needs
%>
<%
  getParent = function () {
    var upper = current.path.length - 1;
    var parent = [];
    for (i = 0; i < upper; i++) {
      if (i !== upper - 1) {
        parent[i] = current.path[i];
      } else {
        parent[i] = current.path[i].slice(0,-4)
      }
    }
    return parent.join('/')
  }
%>

<%# retrieve parent post url (slug) from comment page %>
<%
  getPost = function () {
    var post = current.path.length - 1;
    for (i = post - 1;;) {
      post = current.path[i].slice(0,-4);
      return post;
    }
  }
%>

<%# retrieve parent post theme from comment page %>
<%
  getTheme = function () {
    var theme = current.path.length - 2;
    for (i = theme - 1;;) {
      theme = current.path[i];
      return theme;
    }
  }
%>
